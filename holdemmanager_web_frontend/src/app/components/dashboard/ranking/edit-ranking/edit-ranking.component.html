<div class="loading-container" *ngIf="loading">
  <app-loading></app-loading>
</div>
<div class="edit-player-container">
  <h3 class="titulo">Editar jugador</h3>
  <form [formGroup]="rankingForm" (ngSubmit)="guardarRanking()">
    <div class="form-group">
      <label for="playerNumber">Número de Jugador</label>
      <input type="text" id="playerNumber" placeholder="Número de Jugador" formControlName="playerNumber" class="input">
      <div class="text-danger ml-2 invalid" *ngIf="playerNumber?.invalid && (playerNumber?.dirty || playerNumber?.touched)">
        <span *ngIf="playerNumber?.errors?.['required']">Número de jugador es <strong>requerido.</strong></span>
        <span *ngIf="playerNumber?.errors?.['pattern']">Número de jugador debe ser un número <strong>válido.</strong></span>
      </div>
    </div>
    <div class="form-group">
      <label for="playerName">Nombre del jugador</label>
      <input type="text" id="playerName" formControlName="playerName" class="input">
      <div class="text-danger ml-2 invalid" *ngIf="playerName?.invalid && (playerName?.dirty || playerName?.touched)">
        <span *ngIf="playerName?.errors?.['required']">El nombre es <strong>requerido.</strong></span>
      </div>
    </div>
    <div class="form-group">
      <label for="puntuacion">Puntuacion</label>
      <input type="text" id="puntuacion" formControlName="puntuacion" class="input">
      <div class="text-danger ml-2 invalid" *ngIf="puntuacion?.invalid && (puntuacion?.dirty || puntuacion?.touched)">
        <span *ngIf="puntuacion?.errors?.['required']">La puntuación es <strong>requerida.</strong></span>
        <span *ngIf="puntuacion?.errors?.['pattern']">La puntuación debe ser un número <strong>válido.</strong></span>
      </div>
    </div>
    <div class="form-group">
      <label for="rankingEnum">Ranking</label>
      <select id="rankingEnum" formControlName="rankingEnum" class="input">
        <option value="" disabled>Seleccione un ranking</option>
        <option *ngFor="let option of rankingEnumOptions" [value]="option.value">{{ option.key }}</option>
      </select>
    </div>
    <div class="buttons">
      <button type="submit" class="btn aceptar" [disabled]="rankingForm.invalid"> <i class="bi bi-save"></i> {{ 'Aceptar'}}</button>
      <button type="button" class="btn cancelar" (click)="cancelarEdicion()">Cancelar</button>
    </div>
  </form>
</div>
